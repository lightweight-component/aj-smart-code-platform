<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
        <title>æ•°æ®æœåŠ¡ AJ DataService-å®‰è£…ä¸é…ç½®</title>
        <meta name="description" content="æ•°æ®æœåŠ¡ å®‰è£…ä¸é…ç½®"/>
        <meta name="keywords" content="dataservice, aj-dataservice, crud, æ•°æ®æœåŠ¡, å®‰è£…,é…ç½®"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@200..900&family=Noto+Serif:ital,wght@0,100..900;1,100..900&display=swap&family=Noto+Sans+SC:wght@100..900&display=swap" />
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@100..900&family=Noto+Serif:ital,wght@0,100..900;1,100..900&display=swap" />
        <link rel="stylesheet" href="https://framework.ajaxjs.com/static/new-ui/css/common.css" />
        <link rel="stylesheet" href="https://iam.ajaxjs.com/asset/main.css"/>
        <script src="https://framework.ajaxjs.com/static/aj-docs/common.js"></script>
        <link rel="icon" type="image/png" href="/asset/favicon.ico"/>

        <script>
            var _hmt = _hmt || [];
            (function() {
              var hm = document.createElement("script");
              hm.src = "https://hm.baidu.com/hm.js?734ea877e4a740968e40994221d9c877";
              var s = document.getElementsByTagName("script")[0];
              s.parentNode.insertBefore(hm, s);
            })();
        </script>
    </head>
    <body>
        <nav>
            <div>
                <div class="links">
                    <a href="/">ğŸ  é¦–é¡µ</a>
                    | âš™ï¸ æºç :
                    <a target="_blank" href="https://github.com/lightweight-component/aj-smart-code-platform">Github</a>/<a target="_blank" href="https://gitcode.com/lightweight-component/aj-smart-code-platform">Gitcode</a>
                    |
                    <a href="/">è‹±æ–‡ç‰ˆæœ¬</a>
                </div>
                <h1><img src="/asset/imgs/icon.png" style="vertical-align: middle;height: 35px;margin-bottom: 6px;" /> æ•°æ®æœåŠ¡ AJ DataService</h1>
                <h3>ä¸€ç«™å¼å¿«é€Ÿ CRUD æœåŠ¡</h3>
            </div>
        </nav>
        <div>
            <menu>
                <ul>
                    <li class="selected">
                        <a href="/cn">é¦–é¡µ</a>
                    </li>
                    <li>
                        <a href="/spec-cn">ç‰¹ç‚¹</a>
                    </li>
                </ul>
                <h3>å®‰è£…</h3>
                <ul>
                    <li>
                        <a href="/install/install-cn">å®‰è£…</a>
                    </li>
                    <li>
                       <a href="/install/spring-cn">ä¸ Spring é›†æˆ</a>
                    </li>
                    <li>
                       <a href="/install/ui-cn">å‰ç«¯ç¨‹åº</a>
                    </li>
                </ul>
                <h3>ä½¿ç”¨æ“ä½œå…¥é—¨</h3>
                <ul>
                      <li>
                           <a href="/tour/basic-cn">åŸºæœ¬æ¦‚å¿µ</a>
                      </li>
                </ul>

                <h3>å…¶ä»–</h3>
                <ul>
                    <li><a href="/misc/contact-cn">è”ç³»</a></li>
                </ul>

            </menu>
            <article class="aj-text chinese">
                <h1>å®‰è£…</h1>
<p>æœ¬ç»„ä»¶ä¸ Spring Boot ç¨‹åºæ— ç¼è¡”æ¥ã€‚æ·»åŠ ä¾èµ–åï¼Œå³å¯åœ¨ Spring Boot é¡¹ç›®ä¸­ä½¿ç”¨ã€‚Maven åæ ‡ï¼š</p>
<pre><code class="language-xml">
&lt;dependency&gt;
    &lt;groupId&gt;com.ajaxjs&lt;/groupId&gt;
    &lt;artifactId&gt;aj-security&lt;/artifactId&gt;
    &lt;version&gt;1.0&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<p>åœ¨ Java 8 + SpringBoot2.7 é€šè¿‡æµ‹è¯•ã€‚</p>
<p>å½“å‰ä¸æ”¯æŒé Spring ç¨‹åºã€‚å¦‚æœè¦åœ¨ä¼ ç»Ÿ Spring MVC ç¨‹åºä¸­ä½¿ç”¨ï¼Œå¯èƒ½è¦é’ˆå¯¹é…ç½®çš„ç›¸å…³æœºåˆ¶è¿›è¡Œä¿®æ”¹ã€‚</p>
<h2>æ¼”ç¤ºç¨‹åº</h2>
<p>æˆ‘ä»¬äºæºç ä¸­é™„å¸¦æœ‰<a href="https://gitcode.com/lightweight-component/aj-security/tree/main/aj-security-samples">æ¼”ç¤ºç¨‹åº Sample</a>
å¯ä¾›å®‰è£…é…ç½®å‚è€ƒï¼ŒåŒæ—¶ä¹Ÿä½œä¸ºæµ‹è¯•ç”¨ä¾‹çš„ä¸€éƒ¨åˆ†ï¼ŒåŒ…å«äº†å„ä¸ªå®‰å…¨ç»„ä»¶çš„æ¼”ç¤ºã€‚æµè§ˆæºç <code>aj-security-samples</code>ç›®å½•ï¼Œè¿™æ˜¯ä¸€ä¸ªæ ‡å‡†çš„
SpringBoot v2.7 å·¥ç¨‹ã€‚
æ‰§è¡Œ<code>FooApp</code>ç±»çš„<code>main()</code>å‡½æ•°å³å¯å¯åŠ¨è¯¥æ¼”ç¤ºç¨‹åºã€‚</p>
<h1>é…ç½®</h1>
<p>å¼€å‘è€…ä¸ AJ Security æ‰“äº¤é“æ›´å¤šæ˜¯é€šè¿‡é…ç½®æ–‡ä»¶è¿›è¡Œé…ç½®çš„ã€‚åœ¨ Spring é…ç½® YAML æ–‡ä»¶<code>application.yml</code>ä¸­æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</p>
<pre><code>security:
  HttpReferer: # Referer æ‹¦æˆª
    globalCheck: false # å…¨å±€æ£€æŸ¥
    enabled: true
    allowedReferrers:
      - https://example.com
      - https://another-example.com
      - https://my-site.com

  TimeSignature: # æ—¶é—´æˆ³æ§åˆ¶
    enabled: true
    secretKey: der3@x7Az#2 # å¯†é’¥ï¼Œå¿…å¡«çš„

  IpList: # ip ç™½åå•/é»‘åå•
    globalCheck: false # å…¨å±€æ£€æŸ¥
    enabled: true
    whiteList:
      - 192.168.1.1
      - 192.168.1.2

  HttpBasicAuth: # HTTP Basic è®¤è¯
    globalCheck: true # å…¨å±€æ£€æŸ¥
    enabled: false
    username: admin
    password: admin

  HttpDigestAuth: # HTTP Digest è®¤è¯
    globalCheck: true # å…¨å±€æ£€æŸ¥
    enabled: false
    username: admin
    password: admin2
  EncryptedBody:
    publicKey: MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCmkKluNutOWGmAK2U80hM9JtzsgLAlgvHqncakqwhruE9TIXUQFDRKsIBQwN+3rLC76kyOl4U+eBefLaGQGJBZVq0qwIHBe4kfH0eJXaHyG/i9H2Iph1cyY6cn6ocPta6ZmSuOIcx4yLlpCgq5eDRigHs0AR418ZTlRItlhrY9+wIDAQAB
    privateKey: MIICdQIBADANBgkqhkiG9w0BAQEFAASCAl8wggJbAgEAAoGBAKaQqW42605YaYArZTzSEz0m3OyAsCWC8eqdxqSrCGu4T1MhdRAUNEqwgFDA37essLvqTI6XhT54F58toZAYkFlWrSrAgcF7iR8fR4ldofIb+L0fYimHVzJjpyfqhw+1rpmZK44hzHjIuWkKCrl4NGKAezQBHjXxlOVEi2WGtj37AgMBAAECgYBj9sX4o3UtG9qVVXX4votVVBGaztDocmIF0JL7GLqBC6hv19CNydJoUO1xiY+6iCW5YbB4k28gQqrKmXQxKszWFdd1NTHOKS3nti8I2QNc4T9FF34YvYh/WQlRw7dHmYUl/MCm6U6yVE7XK8GoYYOyAyclXuFR+SRw8/gHsoAYoQJBAPQ3L+K47QSujMSzu8ZcdRingN25VS8r790A18WNxtK9l/7b3l8aTUXmeGcjLpQDnx158jQ32fTUki5aa2eGDp0CQQCumkCpTgcvx0Ys66aXKnpaexWGWDK/ui9hY7lRdd2XijK30Uo2TlQ1ujXYjodbJJUAELE3UAC+0yj8W8Edf093AkAzrHWyaGSmZ/SbLlieCTQxqkenIq72kzpmreX6BBy8vKcrowQzZVJSZwi08gnKAdYqG4J3MBYrKstfiXxOZFw1AkA6+3radrRwzHWFWTnWmQ/qHug/kO3b3M6CrMh+nz1zIslNVVMnk0BZQgVMmaFaBbqb4gerssf9rqGK1ogfKdGzAkBQzGcbSAtTlCAMNMnOXphIvFQ/GnxlPwwr23ysyt0k14SOwGNfND4rXM2rTzjz+2yF20tGdGgmXfwnvKOaCc1N
    enabled: true
  ParamsSign:
    enabled: true
    secretKey: der3@x7Az42
</code></pre>
<p>å¯è§åœ¨<code>security</code>ä¸­æœ‰å„ä¸ªå®‰å…¨ç»„ä»¶çš„é…ç½®ã€‚æŠ½è±¡æ¥çœ‹ï¼Œä¸»è¦æœ‰ä¸ªé…ç½®æ˜¯å„ä¸ªç»„ä»¶å…±ç”¨çš„ï¼Œåˆ†åˆ«æ˜¯<code>enabled</code>ä¸<code>globalCheck</code>ã€‚</p>
<ul>
<li><code>enabled</code>æ˜¯å¦æ¿€æ´»è¯¥ç»„ä»¶ã€‚è‹¥ä¸º<code>false</code>åˆ™ä¸è¿è¡Œè¯¥ç»„ä»¶ã€‚æˆ‘ä»¬çº¦å®šï¼Œåªè¦æŸç»„ä»¶çš„<code>enabled</code>ä¸º<code>true</code>ï¼Œåˆ™è¯¥ç»„ä»¶ä¼šè¿è¡Œï¼Œå¦åˆ™ä¸è¿è¡Œï¼ˆè€Œä¸”ä¸åˆ›å»ºç›¸å…³å¯¹è±¡ï¼Œä»¥èŠ‚çœèµ„æºï¼‰</li>
<li><code>globalCheck</code>æ˜¯å¦å…¨å±€æ£€æŸ¥ã€‚è‹¥ä¸º<code>true</code>åˆ™æ‰€æœ‰è¯·æ±‚éƒ½ä¼šæ£€æŸ¥è¯¥ç»„ä»¶ï¼Œè‹¥ä¸º<code>false</code>åˆ™åªæœ‰åŒ¹é… URL çš„è¯·æ±‚æ‰ä¼šæ£€æŸ¥è¯¥ç»„ä»¶ã€‚åŒ¹é…çš„æ–¹å¼é€šè¿‡åœ¨
Spring æ§åˆ¶å™¨ä¸Šçš„æ³¨è§£å£°æ˜ã€‚ä¾‹å¦‚ï¼š</li>
</ul>
<pre><code class="language-java">@GetMapping(&quot;/HttpRefererCheck&quot;)
@HttpRefererCheck
int HttpRefererCheck();
</code></pre>
<p>å„ä¸ªç»„ä»¶çš„è¯¦ç»†é…ç½®æ–¹å¼è¯·å‚è€ƒå…¶å„ä¸ªç« èŠ‚ã€‚</p>
<h2>åŸºæœ¬åŸç†</h2>
<p>æˆ‘ä»¬æä¾›äº†è¿‘åå¤šç§å®‰å…¨ç»„ä»¶ï¼Œå‡ ä¹éƒ½æ˜¯ä¸ Spring æ¡†æ¶æ·±åº¦ç»‘å®šï¼Œå……åˆ†åˆ©ç”¨äº† Spring çš„å¯æ‰©å±•æœºåˆ¶ä¸çµæ´»çš„é…ç½®æœºåˆ¶ã€‚
å¤šæ•°ç»„ä»¶é€šè¿‡<code>HandlerInterceptor</code>æ‹¦æˆªå™¨å®ç°ï¼Œå…¶ä»–ç‰¹æ®Šç»„ä»¶é‡‡ç”¨<code>HandlerMethodArgumentResolver</code>ã€ä¼ ç»Ÿçš„<code>Servlet Filter</code>ã€<code>HttpMessageConverter</code>å‡æœ‰ã€‚</p>

            </article>
        </div>
        <footer>
             AJ DataServiceï¼Œå¼€æºæ¡†æ¶ <a href="https://framework.ajaxjs.com" target="_blank">AJ-Framework</a> çš„ä¸€éƒ¨åˆ†ã€‚è”ç³»æ–¹å¼ï¼š
             frank@ajaxjs.comï¼Œ<a href="https://blog.csdn.net/zhangxin09" target="_blank">ä½œè€…åšå®¢</a>
             <br />
             <br />
             Copyright Â© 2025 Frank Cheung. All rights reserved.
         </footer>
    </body>
</html>